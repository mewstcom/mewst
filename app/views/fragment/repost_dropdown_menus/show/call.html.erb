<turbo-frame id="repost_dropdown_item_list_<%= @post.id %>">
  <% if current_profile!.repost?(target_post: @post) %>
    <%= link_to repost_path(post_id: @post.id), class: "dropdown-item", method: :delete do %>
      <i class="bi bi-repeat"></i>

      <span class="ms-1">
        <%= t("verbs.undo_repost") %>
      </span>
    <% end %>
  <% else %>
    <%= form_with(
      data: {
        action: "repost-form:submit-start->repost-dropdown#disable repost-form:submit-end->repost-dropdown#reload",
        controller: "repost-form",
        repost_form_post_id_value: @post.id
      },
      model: @repost_creator,
      url: repost_list_path(post_id: @post.id)
    ) do |f| %>
      <%= f.button(class: "dropdown-item", type: :submit) do %>
        <i class="bi bi-repeat"></i>

        <span class="ms-1">
          <%= t("verbs.repost") %>
        </span>
      <% end %>
    <% end %>

    <button
      class="dropdown-item"
      type="button"
    >
      <i class="bi bi-chat-quote"></i>

      <span class="ms-1">
        <%= t("verbs.repost_with_comment") %>
      </span>
    </button>
  <% end %>
</turbo-frame>
